!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("preact")):"function"==typeof define&&define.amd?define(["preact"],e):t.PreactHabitat=e(t.preact)}(this,function(t){"use strict";t="default"in t?t.default:t;var e=function(t){return t.replace(/-([a-z])/gi,function(t,e){return e.toUpperCase()})},n=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-prop",r=t.attributes,u={};return Object.keys(r).forEach(function(t){if(r.hasOwnProperty(t)){var a=r[t].name,o=a.split(n+"-").pop();if(o=e(o),a!==o){var c=r[t].nodeValue;u[o]=c}}}),u},r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-widget",n=[];return[].forEach.call(document.querySelectorAll("["+e+"]"),function(r){t===r.getAttribute(e)&&n.push(r)}),n},u=function(){return document.currentScript||function(){var t=document.getElementsByTagName("script");return t[t.length-1]}()},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-mount",n=t.attributes,r=null;return Object.keys(n).forEach(function(t){n.hasOwnProperty(t)&&n[t].name===e&&(r=n[t].nodeValue)}),r},o=function(){return!document.attachEvent&&"interactive"===document.readyState||"complete"===document.readyState};return function(e){var c=e,i=!1,f=u(),d=a(f),l=function(){(d?r(d):[].concat(f.parentNode)).forEach(function(e){var r=e,u=n(e)||{};return t.render(t.h(c,u),r,null)})};return{render:function(){if(o()&&!i)return i=!0,l();document.onreadystatechange=function(){if(o()&&!i)return i=!0,l()}}}}});