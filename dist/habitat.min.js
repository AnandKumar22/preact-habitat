!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("preact")):"function"==typeof define&&define.amd?define(["preact"],t):e.PreactHabitat=t(e.preact)}(this,function(e){"use strict";e="default"in e?e.default:e;var t=function(e){return e.replace(/-([a-z])/gi,function(e,t){return t.toUpperCase()})},n=function(){return document.currentScript||function(){var e=document.getElementsByTagName("script");return e[e.length-1]}()},r=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"data-prop",r=e.attributes,a={};return Object.keys(r).forEach(function(e){if(r.hasOwnProperty(e)){var u=r[e].name,i=u.split(n+"-").pop();if(i=t(i),u!==i){var o=r[e].nodeValue;a[i]=o}}}),a},a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.name,r=void 0===t?"data-widget":t,a=e.value,u=void 0===a?null:a,i=e.inline,o=void 0===i||i,c=[],d=n();if(!u){var f=d.attributes;Object.keys(f).forEach(function(e){f.hasOwnProperty(e)&&"data-mount"===f[e].name&&(u=f[e].nodeValue)})}return!u&&o?[].concat(d.parentNode):([].forEach.call(document.querySelectorAll("["+r+"]"),function(e){u===e.getAttribute(r)&&c.push(e)}),c)},u=function(){return!document.attachEvent&&"interactive"===document.readyState||"complete"===document.readyState},i=function(t,n,a){n.forEach(function(n){var u=n,i=r(n)||{};return e.render(e.h(t,i),u,a)})};return function(e){var t=e,n=!1;return{render:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.name,o=void 0===r?"data-widget":r,c=e.value,d=void 0===c?null:c,f=e.inline,l=void 0===f||f,v=u();if(v&&!n){var p=a({name:o,value:d,inline:l});return n=!0,i(t,p,null)}document.onreadystatechange=function(){var e=a({name:o,value:d,inline:l});if(v&&!n)return n=!0,i(t,e,null)}}}}});